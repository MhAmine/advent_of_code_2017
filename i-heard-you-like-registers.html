<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Advent of Code 2017</title>
  <meta name="description" content="Solutions for R Users &amp; tidyverse lovers.">
  <meta name="generator" content="bookdown 0.7.1 and GitBook 2.6.7">

  <meta property="og:title" content="Advent of Code 2017" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="http://isteves.github.io/advent_of_code_2017/" />
  
  <meta property="og:description" content="Solutions for R Users &amp; tidyverse lovers." />
  <meta name="github-repo" content="isteves/advent_of_code_2017" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Advent of Code 2017" />
  
  <meta name="twitter:description" content="Solutions for R Users &amp; tidyverse lovers." />
  

<meta name="author" content="Irene Steves">


<meta name="date" content="2018-03-11">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="recursive-circus.html">
<link rel="next" href="stream-processing.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Advent of Code 2017</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Overview</a></li>
<li class="chapter" data-level="" data-path="some-data-exploration.html"><a href="some-data-exploration.html"><i class="fa fa-check"></i>Some data exploration</a></li>
<li class="chapter" data-level="1" data-path="inverse-captcha.html"><a href="inverse-captcha.html"><i class="fa fa-check"></i><b>1</b> Inverse Captcha</a><ul>
<li class="chapter" data-level="1.1" data-path="inverse-captcha.html"><a href="inverse-captcha.html#part-i"><i class="fa fa-check"></i><b>1.1</b> Part I</a></li>
<li class="chapter" data-level="1.2" data-path="inverse-captcha.html"><a href="inverse-captcha.html#part-ii"><i class="fa fa-check"></i><b>1.2</b> Part II</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="corruption-checksum.html"><a href="corruption-checksum.html"><i class="fa fa-check"></i><b>2</b> Corruption Checksum</a><ul>
<li class="chapter" data-level="2.1" data-path="corruption-checksum.html"><a href="corruption-checksum.html#part-i-1"><i class="fa fa-check"></i><b>2.1</b> Part I</a></li>
<li class="chapter" data-level="2.2" data-path="corruption-checksum.html"><a href="corruption-checksum.html#part-ii-1"><i class="fa fa-check"></i><b>2.2</b> Part II</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="spiral-memory.html"><a href="spiral-memory.html"><i class="fa fa-check"></i><b>3</b> Spiral Memory</a><ul>
<li class="chapter" data-level="3.1" data-path="spiral-memory.html"><a href="spiral-memory.html#part-i-2"><i class="fa fa-check"></i><b>3.1</b> Part I</a></li>
<li class="chapter" data-level="3.2" data-path="spiral-memory.html"><a href="spiral-memory.html#part-ii-2"><i class="fa fa-check"></i><b>3.2</b> Part II</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="high-entropy-passphrases.html"><a href="high-entropy-passphrases.html"><i class="fa fa-check"></i><b>4</b> High-Entropy Passphrases</a><ul>
<li class="chapter" data-level="4.1" data-path="high-entropy-passphrases.html"><a href="high-entropy-passphrases.html#part-i-3"><i class="fa fa-check"></i><b>4.1</b> Part I</a></li>
<li class="chapter" data-level="4.2" data-path="high-entropy-passphrases.html"><a href="high-entropy-passphrases.html#part-ii-3"><i class="fa fa-check"></i><b>4.2</b> Part II</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="a-maze-of-twisty-trampolines-all-alike.html"><a href="a-maze-of-twisty-trampolines-all-alike.html"><i class="fa fa-check"></i><b>5</b> A Maze of Twisty Trampolines, All Alike</a><ul>
<li class="chapter" data-level="5.1" data-path="a-maze-of-twisty-trampolines-all-alike.html"><a href="a-maze-of-twisty-trampolines-all-alike.html#part-i-4"><i class="fa fa-check"></i><b>5.1</b> Part I</a></li>
<li class="chapter" data-level="5.2" data-path="a-maze-of-twisty-trampolines-all-alike.html"><a href="a-maze-of-twisty-trampolines-all-alike.html#part-ii-4"><i class="fa fa-check"></i><b>5.2</b> Part II</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="memory-reallocation.html"><a href="memory-reallocation.html"><i class="fa fa-check"></i><b>6</b> Memory Reallocation</a><ul>
<li class="chapter" data-level="6.1" data-path="memory-reallocation.html"><a href="memory-reallocation.html#part-i-5"><i class="fa fa-check"></i><b>6.1</b> Part I</a></li>
<li class="chapter" data-level="6.2" data-path="memory-reallocation.html"><a href="memory-reallocation.html#part-ii-5"><i class="fa fa-check"></i><b>6.2</b> Part II</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="recursive-circus.html"><a href="recursive-circus.html"><i class="fa fa-check"></i><b>7</b> Recursive Circus</a><ul>
<li class="chapter" data-level="7.1" data-path="recursive-circus.html"><a href="recursive-circus.html#part-i-6"><i class="fa fa-check"></i><b>7.1</b> Part I</a></li>
<li class="chapter" data-level="7.2" data-path="recursive-circus.html"><a href="recursive-circus.html#part-ii-6"><i class="fa fa-check"></i><b>7.2</b> Part II</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="i-heard-you-like-registers.html"><a href="i-heard-you-like-registers.html"><i class="fa fa-check"></i><b>8</b> I Heard You Like Registers</a><ul>
<li class="chapter" data-level="8.1" data-path="i-heard-you-like-registers.html"><a href="i-heard-you-like-registers.html#part-i-7"><i class="fa fa-check"></i><b>8.1</b> Part I</a></li>
<li class="chapter" data-level="8.2" data-path="i-heard-you-like-registers.html"><a href="i-heard-you-like-registers.html#part-ii-7"><i class="fa fa-check"></i><b>8.2</b> Part II</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="stream-processing.html"><a href="stream-processing.html"><i class="fa fa-check"></i><b>9</b> Stream Processing</a><ul>
<li class="chapter" data-level="9.1" data-path="stream-processing.html"><a href="stream-processing.html#part-i-8"><i class="fa fa-check"></i><b>9.1</b> Part I</a></li>
<li class="chapter" data-level="9.2" data-path="stream-processing.html"><a href="stream-processing.html#part-ii-8"><i class="fa fa-check"></i><b>9.2</b> Part II</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="knot-hash.html"><a href="knot-hash.html"><i class="fa fa-check"></i><b>10</b> Knot Hash</a><ul>
<li class="chapter" data-level="10.1" data-path="knot-hash.html"><a href="knot-hash.html#part-i-9"><i class="fa fa-check"></i><b>10.1</b> Part I</a></li>
<li class="chapter" data-level="10.2" data-path="knot-hash.html"><a href="knot-hash.html#part-ii-9"><i class="fa fa-check"></i><b>10.2</b> Part II</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Advent of Code 2017</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="i-heard-you-like-registers" class="section level1">
<h1><span class="header-section-number">Day 8</span> I Heard You Like Registers</h1>
<div id="part-i-7" class="section level2">
<h2><span class="header-section-number">8.1</span> Part I</h2>
<p><a href="https://adventofcode.com/2017/day/8">Day 8</a> is essentially a list of conditionally instructions how to modify different “registers,” which all start at 0. Here’s the example given:</p>
<pre><code>b inc 5 if a &gt; 1
a inc 1 if b &lt; 5
c dec -10 if a &gt;= 1
c inc -20 if c == 10

These instructions would be processed as follows:

Because a starts at 0, it is not greater than 1, and so b is not modified.
a is increased by 1 (to 1) because b is less than 5 (it is 0).
c is decreased by -10 (to 10) because a is now greater than or equal to 1 (it is 1).
c is increased by -20 (to -10) because c is equal to 10.
After this process, the largest value in any register is 1.</code></pre>
<p>And from these instructions, we want to determine: “What is the largest value in any register after completing the instructions in your puzzle input?”</p>
<p>As usual, we start with the simple test case to build up the code. First, that some tidying is required:</p>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb117-1" data-line-number="1">input &lt;-<span class="st"> &quot;b inc 5 if a &gt; 1</span></a>
<a class="sourceLine" id="cb117-2" data-line-number="2"><span class="st">a inc 1 if b &lt; 5</span></a>
<a class="sourceLine" id="cb117-3" data-line-number="3"><span class="st">c dec -10 if a &gt;= 1</span></a>
<a class="sourceLine" id="cb117-4" data-line-number="4"><span class="st">c inc -20 if c == 10&quot;</span></a>
<a class="sourceLine" id="cb117-5" data-line-number="5"></a>
<a class="sourceLine" id="cb117-6" data-line-number="6">input_tidy &lt;-<span class="st"> </span><span class="kw">tibble</span>(<span class="dt">input =</span> <span class="kw">unlist</span>(<span class="kw">str_split</span>(input, <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>))) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb117-7" data-line-number="7"><span class="st">    </span><span class="kw">separate</span>(input, <span class="dt">into =</span> <span class="kw">c</span>(<span class="st">&quot;action&quot;</span>, <span class="st">&quot;condition&quot;</span>), <span class="dt">sep =</span> <span class="st">&quot; if &quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb117-8" data-line-number="8"><span class="st">    </span><span class="kw">separate</span>(action, <span class="dt">into =</span> <span class="kw">c</span>(<span class="st">&quot;var&quot;</span>, <span class="st">&quot;action&quot;</span>, <span class="st">&quot;val&quot;</span>), <span class="dt">sep =</span> <span class="st">&quot; &quot;</span>)</a>
<a class="sourceLine" id="cb117-9" data-line-number="9"><span class="kw">print</span>(input_tidy)</a></code></pre></div>
<pre><code>## # A tibble: 4 x 4
##   var   action val   condition
##   &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;    
## 1 b     inc    5     a &gt; 1    
## 2 a     inc    1     b &lt; 5    
## 3 c     dec    -10   a &gt;= 1   
## 4 c     inc    -20   c == 10</code></pre>
<p>For this example, we have 3 possible variables that may be changing at each step. We’ll store the values for each step in a dataframe with columns “a”, “b”, and “c”, starting with 0 for each variable. At the end, all we need to do to answer the puzzle question is look through the data frame for the biggest number (<code>max(df)</code>).</p>
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb119-1" data-line-number="1">names &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>)</a>
<a class="sourceLine" id="cb119-2" data-line-number="2">df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="kw">matrix</span>(<span class="dv">0</span>, <span class="dt">ncol =</span> <span class="kw">length</span>(names), <span class="dt">nrow =</span> <span class="dv">1</span>))</a>
<a class="sourceLine" id="cb119-3" data-line-number="3"><span class="kw">colnames</span>(df) &lt;-<span class="st"> </span>names</a></code></pre></div>
<p>Now we need take action, specifically:</p>
<ol style="list-style-type: decimal">
<li>translate the <code>action</code> to something mathematically meaningful (“inc” = <code>+ val</code>, “dec” = <code>- val</code>)</li>
<li>evaluate the condition provided and perform the <code>action</code> if the condition is TRUE</li>
<li>go through each step sequentially</li>
</ol>
<p>These two helper functions can help us with that:</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb120-1" data-line-number="1">paste_special &lt;-<span class="st"> </span><span class="cf">function</span>(var, action, val) {</a>
<a class="sourceLine" id="cb120-2" data-line-number="2">    <span class="co">#pastes the action into a string that R can then evaluate</span></a>
<a class="sourceLine" id="cb120-3" data-line-number="3">    <span class="co">#for example, the first row above becomes &quot;df$b + 5&quot;</span></a>
<a class="sourceLine" id="cb120-4" data-line-number="4">    <span class="cf">if</span>(action <span class="op">==</span><span class="st"> &quot;inc&quot;</span>){</a>
<a class="sourceLine" id="cb120-5" data-line-number="5">        string &lt;-<span class="st"> </span><span class="kw">paste</span>(<span class="st">&quot;df$&quot;</span>, var, <span class="st">&quot;+&quot;</span>, val, <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>)</a>
<a class="sourceLine" id="cb120-6" data-line-number="6">    } <span class="cf">else</span> {</a>
<a class="sourceLine" id="cb120-7" data-line-number="7">        string &lt;-<span class="st"> </span><span class="kw">paste</span>(<span class="st">&quot;df$&quot;</span>, var, <span class="st">&quot;-&quot;</span>, val, <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>)</a>
<a class="sourceLine" id="cb120-8" data-line-number="8">    }</a>
<a class="sourceLine" id="cb120-9" data-line-number="9">}</a>
<a class="sourceLine" id="cb120-10" data-line-number="10"></a>
<a class="sourceLine" id="cb120-11" data-line-number="11">eval_string &lt;-<span class="st"> </span><span class="cf">function</span>(string) {</a>
<a class="sourceLine" id="cb120-12" data-line-number="12">    <span class="co">#this helps us to evaluate a string, such as the one above</span></a>
<a class="sourceLine" id="cb120-13" data-line-number="13">    <span class="kw">eval</span>(<span class="kw">parse</span>(<span class="dt">text =</span> string))</a>
<a class="sourceLine" id="cb120-14" data-line-number="14">}</a></code></pre></div>
<div class="sourceCode" id="cb121"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb121-1" data-line-number="1"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(input_tidy)){</a>
<a class="sourceLine" id="cb121-2" data-line-number="2">    <span class="co">#grab variables (doing this mostly for readability)</span></a>
<a class="sourceLine" id="cb121-3" data-line-number="3">    var &lt;-<span class="st"> </span>input_tidy<span class="op">$</span>var[i]</a>
<a class="sourceLine" id="cb121-4" data-line-number="4">    action &lt;-<span class="st"> </span>input_tidy<span class="op">$</span>action[i]</a>
<a class="sourceLine" id="cb121-5" data-line-number="5">    val &lt;-<span class="st"> </span>input_tidy<span class="op">$</span>val[i]</a>
<a class="sourceLine" id="cb121-6" data-line-number="6">    </a>
<a class="sourceLine" id="cb121-7" data-line-number="7">    <span class="co">#add &quot;df$&quot; in front of the condition to make it easy to evaluate</span></a>
<a class="sourceLine" id="cb121-8" data-line-number="8">    <span class="co">#for example, &quot;df$&quot; + &quot;b &lt; 5&quot; is &quot;df$b &lt; 5&quot;</span></a>
<a class="sourceLine" id="cb121-9" data-line-number="9">    condition &lt;-<span class="st"> </span><span class="kw">paste0</span>(<span class="st">&quot;df$&quot;</span>, input_tidy<span class="op">$</span>condition[i])</a>
<a class="sourceLine" id="cb121-10" data-line-number="10">    </a>
<a class="sourceLine" id="cb121-11" data-line-number="11">    <span class="cf">if</span>(<span class="kw">eval_string</span>(condition)){ <span class="co">#if this condition is true..</span></a>
<a class="sourceLine" id="cb121-12" data-line-number="12">        <span class="co">#evaluate the action &amp; save into the data frame</span></a>
<a class="sourceLine" id="cb121-13" data-line-number="13">        df[var] &lt;-<span class="st"> </span><span class="kw">eval_string</span>(<span class="kw">paste_special</span>(var, action, val)) </a>
<a class="sourceLine" id="cb121-14" data-line-number="14">    }</a>
<a class="sourceLine" id="cb121-15" data-line-number="15">}</a>
<a class="sourceLine" id="cb121-16" data-line-number="16"></a>
<a class="sourceLine" id="cb121-17" data-line-number="17"><span class="kw">print</span>(df)</a></code></pre></div>
<pre><code>##   a b   c
## 1 1 0 -10</code></pre>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb123-1" data-line-number="1"><span class="kw">max</span>(df)</a></code></pre></div>
<pre><code>## [1] 1</code></pre>
<p>Once we do this, we can test it out on our puzzle input! For the puzzle input, there are wayyy more names, so we need to extract them intelligently. In addition, some of the variables in the conditional statements are never acted upon. In other words, we need to merge the <code>var</code> column of <code>input_tidy</code> with the variables in the conditional statements.</p>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb125-1" data-line-number="1">names &lt;-<span class="st"> </span>input_tidy <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">as.tibble</span>() <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb125-2" data-line-number="2"><span class="st">    </span><span class="kw">separate</span>(condition, <span class="dt">into =</span> <span class="kw">c</span>(<span class="st">&quot;var2&quot;</span>, <span class="st">&quot;sign&quot;</span>, <span class="st">&quot;val2&quot;</span>), <span class="dt">sep =</span> <span class="st">&quot; &quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb125-3" data-line-number="3"><span class="st">    </span><span class="kw">gather</span>(<span class="kw">c</span>(var, var2), <span class="dt">key=</span>var, <span class="dt">value=</span>names) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb125-4" data-line-number="4"><span class="st">    </span><span class="kw">distinct</span>(names) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb125-5" data-line-number="5"><span class="st">    </span><span class="kw">pull</span>(names)</a></code></pre></div>
<p>And that’s it! It’s puzzle-ready.</p>
</div>
<div id="part-ii-7" class="section level2">
<h2><span class="header-section-number">8.2</span> Part II</h2>
<pre><code>To be safe, the CPU also needs to know the highest value held in any register during this process so that it can decide how much memory to allocate to these operations. For example, in the above instructions, the highest value ever held was 10 (in register c after the third instruction was evaluated).</code></pre>
<p>Now since we want to know the highest value ever, we’ll save our biggest answer to the variable <code>big_ans</code>.</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb127-1" data-line-number="1">big_ans &lt;-<span class="st"> </span><span class="dv">0</span></a>
<a class="sourceLine" id="cb127-2" data-line-number="2"></a>
<a class="sourceLine" id="cb127-3" data-line-number="3"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(input_tidy)){</a>
<a class="sourceLine" id="cb127-4" data-line-number="4">    var &lt;-<span class="st"> </span>input_tidy<span class="op">$</span>var[i]</a>
<a class="sourceLine" id="cb127-5" data-line-number="5">    action &lt;-<span class="st"> </span>input_tidy<span class="op">$</span>action[i]</a>
<a class="sourceLine" id="cb127-6" data-line-number="6">    val &lt;-<span class="st"> </span>input_tidy<span class="op">$</span>val[i]</a>
<a class="sourceLine" id="cb127-7" data-line-number="7">    condition &lt;-<span class="st"> </span><span class="kw">paste0</span>(<span class="st">&quot;df$&quot;</span>, input_tidy<span class="op">$</span>condition[i])</a>
<a class="sourceLine" id="cb127-8" data-line-number="8">    </a>
<a class="sourceLine" id="cb127-9" data-line-number="9">    <span class="cf">if</span>(<span class="kw">eval_string</span>(condition)){ </a>
<a class="sourceLine" id="cb127-10" data-line-number="10">        ans &lt;-<span class="st"> </span><span class="kw">eval_string</span>(<span class="kw">paste_special</span>(var, action, val))</a>
<a class="sourceLine" id="cb127-11" data-line-number="11">        df[var] &lt;-<span class="st"> </span>ans</a>
<a class="sourceLine" id="cb127-12" data-line-number="12">        </a>
<a class="sourceLine" id="cb127-13" data-line-number="13">        <span class="cf">if</span>(ans <span class="op">&gt;</span><span class="st"> </span>big_ans){</a>
<a class="sourceLine" id="cb127-14" data-line-number="14">            big_ans &lt;-<span class="st"> </span>ans</a>
<a class="sourceLine" id="cb127-15" data-line-number="15">        }</a>
<a class="sourceLine" id="cb127-16" data-line-number="16">    }</a>
<a class="sourceLine" id="cb127-17" data-line-number="17">}</a>
<a class="sourceLine" id="cb127-18" data-line-number="18"></a>
<a class="sourceLine" id="cb127-19" data-line-number="19"><span class="kw">print</span>(big_ans)</a></code></pre></div>
<pre><code>## [1] 2</code></pre>
<p>In our example, the <code>big_ans</code> is on the small side, but this code should work even for large data sets!</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="recursive-circus.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="stream-processing.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
